{% from "_formhelpers.html" import render_field %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=0.5, shrink-to-fit=no"
    />
    <title>{{legend}}</title>

    <!-- Core Bootstrap CDN -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />

    <!-- Custom Fonts -- Font Awesome -- Font: Catamaran-->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
      integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Catamaran"
    />

    <!-- Powell Tech CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='css/repair.css') }}"
    />
  </head>

  <body id="page-top">
    <!-- Navigation Bar & Responsive Collapse Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">
          <img
            id="navbar-logo"
            src="{{ url_for('static', filename='assets/SmallLogo.png') }}"
          />Â©
        </a>
        <button
          class="navbar-toggler navbar-toggler-right"
          type="button"
          data-toggle="collapse"
          data-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          Menu <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('home') }}">Cancel Repair</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('logout') }}"
                >Logout & Cancel</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <header class="masterHead">
      <div class="container d-flex h-100 align-items-center">
        <div class="mx-auto text-center">
          <img
            class="img-fluid header-logo"
            src="{{ url_for('static', filename='assets/SmallLogo.png') }}"
          />
          <div class="content-section">
            <form method="POST" action="">
              {{ form.hidden_tag() }}
              <fieldset class="form-group mt-5">
                <div class="container">
                  <div class="row">
                    <!-- First Name -->
                    <div class="form-group col-lg-6">
                      {{ form.first_name.label(class='form-control-label') }} {%
                      if form.first_name.errors %} {{
                      form.first_name(class='form-control form-control-lg
                      is-invalid') }}
                      <div class="invalid-feedback">
                        {% for error in form.first_name.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %} {{ form.first_name(class='form-control
                      form-control-lg', value=user_data.owner_first_name) }} {%
                      endif %}
                    </div>

                    <!-- Last Name -->
                    <div class="col-lg-6">
                      {{ form.last_name.label(class='form-control-label') }} {%
                      if form.last_name.errors %} {{
                      form.last_name(class='form-control form-control-lg
                      is-invalid') }}
                      <div class="invalid-feedback">
                        {% for error in form.last_name.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %} {{ form.last_name(class='form-control
                      form-control-lg', value=user_data.owner_last_name) }} {%
                      endif %}
                    </div>

                    <!-- E-mail Address -->
                    <div class="form-group col-lg-6">
                      {{ form.email.label(class='form-control-label') }} {% if
                      form.email.errors %} {{ form.email(class='form-control
                      form-control-lg is-invalid') }}
                      <div class="invalid-feedback">
                        {% for error in form.email.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %} {{ form.email(class='form-control
                      form-control-lg', value=user_data.email) }} {% endif %}
                    </div>

                    <!-- Phone Number -->
                    <div class="form-group col-lg-6">
                      {{ form.phone_number.label(class='form-control-label') }}
                      {% if form.phone_number.errors %} {{
                      form.phone_number(class='form-control form-control-lg
                      is-invalid') }}
                      <div class="invalid-feedback">
                        {% for error in form.phone_number.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %} {{ form.phone_number(class='form-control
                      form-control-lg', value=current_user.phone_number) }} {%
                      endif %}
                    </div>

                    <!-- Issue -->
                    <div class="form-group col-lg-6">
                      {{ form.issue.label(class='form-control-label') }} {% if
                      form.issue.errors %} {{ form.issue(class='form-control
                      form-control-lg is-invalid') }}
                      <div class="invalid-feedback">
                        {% for error in form.issue.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %} {{ form.issue(class='form-control
                      form-control-lg') }} {% endif %}
                    </div>

                    <!-- Troubleshooting -->
                    <div class="form-group col-lg-6">
                      {{ form.troubleshooting.label(class='form-control-label')
                      }} {% if form.troubleshooting.errors %} {{
                      form.troubleshooting(class='form-control form-control-lg
                      is-invalid') }}
                      <div class="invalid-feedback">
                        {% for error in form.troubleshooting.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %} {{ form.troubleshooting(class='form-control
                      form-control-lg') }} {% endif %}
                    </div>

                    <!-- Device Manufacturer -->
                    <div class="form-group col-lg-6">
                      {{
                      form.device_manufacturer.label(class='form-control-label')
                      }} {% if form.device_manufacturer.errors %} {{
                      form.device_manufacturer(class='form-control
                      form-control-lg is-invalid') }}
                      <div class="invalid-feedback">
                        {% for error in form.device_manufacturer.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %} {{ form.device_manufacturer(class='form-control
                      form-control-lg', value=user_data.device_manufacturer) }}
                      {% endif %}
                    </div>

                    <!-- Device Model -->
                    <div class="form-group col-lg-6">
                      {{ form.device_model.label(class='form-control-label') }}
                      {% if form.device_model.errors %} {{
                      form.device_model(class='form-control form-control-lg
                      is-invalid') }}
                      <div class="invalid-feedback">
                        {% for error in form.device_model.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %} {{ form.device_model(class='form-control
                      form-control-lg', value=user_data.device_model) }} {%
                      endif %}
                    </div>

                    <!-- Device Operating System -->
                    <div class="form-group col-lg-6">
                      {{ form.device_os.label(class='form-control-label') }} {%
                      if form.device_os.errors %} {{
                      form.device_os(class='form-control form-control-lg
                      is-invalid') }}
                      <div class="invalid-feedback">
                        {% for error in form.device_os.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %} {{ form.device_os(class='form-control
                      form-control-lg') }} {% endif %}
                    </div>

                    <!-- Over-The-Phone Troubleshooting  -->
                    <div class="form-check col-lg-6">
                      {{
                      form.otp_troubleshooting.label(class='form-control-label')
                      }} {% if form.otp_troubleshooting.errors %} {{
                      form.otp_troubleshooting(class='form-control
                      form-control-lg is-invalid') }}
                      <div class="invalid-feedback">
                        {% for error in form.otp_troubleshooting.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %} {{ form.otp_troubleshooting(class='form-control
                      form-control-lg') }} {% endif %}
                    </div>

                    <!-- Terms & Conditions -->
                    <div class="form-check col-lg-6">
                      {{ form.terms_and_conditions(class='form-check-input') }}
                      {{
                      form.terms_and_conditions.label(class='form-check-label')
                      }}
                    </div>
                  </div>
                </div>
              </fieldset>

              <!-- Submit Button -->
              <div class="form-group zoom">
                {{ form.submit(class='btn btn-outline-info') }}
              </div>
            </form>
          </div>
        </div>
      </div>
    </header>

    <!-- Jquery, Popper.js, bootstrap JS, custom JS-->
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      type="text/javascript"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.5/jquery-ui.min.js"></script>
    <script src="{{ url_for('static', filename='js/grayscale.js') }}"></script>
  </body>
</html>
